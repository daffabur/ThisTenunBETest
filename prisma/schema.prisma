generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url       = env("DATABASE_URL")
}

model Province {
  id        Int      @id @default(autoincrement())
  name      String   @unique
  createdAt DateTime @default(now())

  tenun     Tenun[]
}

model Tenun {
  id          Int      @id @default(autoincrement())
  // kolom yang kamu minta:
  jenisTenun  String
  imageUrl    String?   // link gambar
  description String   // penjelasan tenun

  createdAt   DateTime @default(now())

  // relasi ke provinsi
  province    Province @relation(fields: [provinceId], references: [id])
  provinceId  Int

  // 1 provinsi tidak boleh punya 2 baris dengan jenis tenun yang sama
  @@unique([provinceId, jenisTenun], map: "uniq_province_jenis")
  @@index([provinceId])
}
